<nav class="navbar navbar-default">
  <div class="container-fluid">
    <div class="navbar-header">
      <%= link_to 'RateMyClass', homepage_path, class: "navbar-brand" %>
    </div>
    <ul class="nav navbar-nav">
      <li><%= link_to 'Reviews', indexupper_path %></li>
      <li><%= link_to 'New Review', new_review_path %></li>
      <% if !session[:current_username] %>
        <li><%= link_to 'Sign Up', signup_path %></li>
        <li><%= link_to 'Log In', login_path %></li>
      <% else %>
        <li><%= link_to 'Log out', logout_path %></li>
      <% end %>
      <% if session[:type] == 'admin' %>
        <li><%= link_to 'Reviews Database', reviews_path %></li>
        <li><%= link_to 'Users Database', users_path %></li>
      <% end %>
    </ul>
    <%= form_tag indexupper_path, :method => :get, class: "form-inline my-2 my-lg-0" do %>
        <div align="right", style="line-height:50%;">
            <br>
            <%= text_field(:search, :field, placeholder: "Search", class: "form-control mr-sm-2") %>
            <%= submit_tag 'Search', :class => "btn btn-outline-success my-2 my-sm-0" %>
        </div>
    <% end %>
  </div>
</nav>
<p id="notice"><%= notice %></p>
<% if session[:type] == 'admin' %>
<h1>Users</h1>

<table>
  <thead>
    <tr>
      <th>Username</th>
      <th>Password hash</th>
      <th>Type of user</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @users.each do |user| %>
      <tr>
        <td><%= user.username %></td>
        <td><%= user.password_hash %></td>
        <td><%= user.type_of_user %></td>
        <td><%= link_to 'Show', user_path(id: user.id) %></td>
        <td><%= link_to 'Edit', edit_user_path(id: user.id) %></td>
        <td><%= button_to 'Destroy', user_path(id: user.id), method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New User', new_user_path %>
<% else %>
<h1>You are not an admin. Therefore, you can not view the user's database</h1>
  <%= link_to 'Back to Homepage', homepage_path %>
<%end %>